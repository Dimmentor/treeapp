## üîç –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

### #Pydantic:
1. [–ß—Ç–æ —Ç–∞–∫–æ–µ Pydantic –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?](#1-—á—Ç–æ-—Ç–∞–∫–æ–µ-pydantic-–∏-–¥–ª—è-—á–µ–≥–æ-–æ–Ω-–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
2. [–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Pydantic?](#2-–∫–∞–∫-—Å–æ–∑–¥–∞—Ç—å-–±–∞–∑–æ–≤—É—é-–º–æ–¥–µ–ª—å-–¥–∞–Ω–Ω—ã—Ö-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-pydantic)
3. [–ö–∞–∫ Pydantic –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö?](#3-–∫–∞–∫-pydantic-–æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç-–≤–∞–ª–∏–¥–∞—Ü–∏—é-–¥–∞–Ω–Ω—ã—Ö)
4. [–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è BaseModel –æ—Ç dataclass –≤ Pydantic?](#4-—á–µ–º-–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è-basemodel-–æ—Ç-dataclass-–≤-pydantic)
5. [–ö–∞–∫ –∑–∞–¥–∞—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª–µ–π –≤ Pydantic –º–æ–¥–µ–ª–∏?](#5-–∫–∞–∫-–∑–∞–¥–∞—Ç—å-—Ç–∏–ø—ã-–¥–∞–Ω–Ω—ã—Ö-–¥–ª—è-–ø–æ–ª–µ–π-–≤-pydantic-–º–æ–¥–µ–ª–∏)
6. [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø constr –≤ Pydantic –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫–∏?](#6-–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-—Ç–∏–ø-constr-–≤-pydantic-–¥–ª—è-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–¥–ª–∏–Ω—ã-—Å—Ç—Ä–æ–∫–∏)
7. [–ö–∞–∫ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–ª–µ–π –º–æ–¥–µ–ª–∏ Pydantic?](#7-–∫–∞–∫-–º–æ–∂–Ω–æ-–∑–∞–¥–∞—Ç—å-–∑–Ω–∞—á–µ–Ω–∏—è-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é-–¥–ª—è-–ø–æ–ª–µ–π-–º–æ–¥–µ–ª–∏-pydantic)
8. [–ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è –º–æ–¥–µ–ª–∏ –≤ Pydantic?](#8-–∫–∞–∫-–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å-–∫–∞—Å—Ç–æ–º–Ω—ã–π-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä-–¥–ª—è-–ø–æ–ª—è-–º–æ–¥–µ–ª–∏-–≤-pydantic)
9. [–í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É @validator, @root_validator, @before, @after, @wrap, –∏ @plain –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞–º–∏?](#9-–≤-—á–µ–º-—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-validator-root_validator-before-after-wrap-–∏-plain-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞–º–∏)
10. [–ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @before –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∏ –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –æ–Ω —Ä–µ—à–∞–µ—Ç?](#10-–∫–æ–≥–¥–∞-—Å–ª–µ–¥—É–µ—Ç-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-before-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä-–∏-–∫–∞–∫–∏–µ-–∑–∞–¥–∞—á–∏-–æ–Ω-—Ä–µ—à–∞–µ—Ç)
11. [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @after –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∏ –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –æ–Ω –ø—Ä–∏–º–µ–Ω–∏–º?](#11-–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-after-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä-–∏-–≤-–∫–∞–∫–∏—Ö-—Å–ª—É—á–∞—è—Ö-–æ–Ω-–ø—Ä–∏–º–µ–Ω–∏–º)
12. [–ß—Ç–æ —Ç–∞–∫–æ–µ @wrap –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∏ –∫–∞–∫ –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–µ—Ä–Ω—É—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤–∞–ª–∏–¥–∞—Ü–∏–∏?](#12-—á—Ç–æ-—Ç–∞–∫–æ–µ-wrap-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä-–∏-–∫–∞–∫-–æ–Ω-–ø–æ–∑–≤–æ–ª—è–µ—Ç-–æ–±–µ—Ä–Ω—É—Ç—å-–ø—Ä–æ—Ü–µ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏)
13. [–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç @plain –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤?](#13-–∫–∞–∫-—Ä–∞–±–æ—Ç–∞–µ—Ç-plain-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä-–∏-—á–µ–º-–æ–Ω-–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è-–æ—Ç-–¥—Ä—É–≥–∏—Ö-—Ç–∏–ø–æ–≤-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤)
14. [–ö–∞–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≤ Pydantic?](#14-–∫–∞–∫-–º–æ–∂–Ω–æ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–≤–ª–æ–∂–µ–Ω–Ω—ã–µ-–º–æ–¥–µ–ª–∏-–≤-pydantic)
15. [–ö–∞–∫ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –∏—Å–∫–ª—é—á–∞—Ç—å –ø–æ–ª—è –∏–∑ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Pydantic –º–æ–¥–µ–ª–∏?](#15-–∫–∞–∫-–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å-–∏–ª–∏-–∏—Å–∫–ª—é—á–∞—Ç—å-–ø–æ–ª—è-–∏–∑-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏-–≤-pydantic-–º–æ–¥–µ–ª–∏)
16. [–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∞–ª–∏–∞—Å—ã –ø–æ–ª–µ–π (Field(..., alias='other_name')) –≤ Pydantic?](#16-–∫–∞–∫-—Ä–∞–±–æ—Ç–∞—é—Ç-–∞–ª–∏–∞—Å—ã-–ø–æ–ª–µ–π-field-aliasother_name-–≤-pydantic)
17. [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Config –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –≤ Pydantic?](#17-–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-config-–¥–ª—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏-–ø–æ–≤–µ–¥–µ–Ω–∏—è-–º–æ–¥–µ–ª–∏-–≤-pydantic)
18. [–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ç–æ–¥ dict() –≤ Pydantic –∏ –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç?](#18-–∫–∞–∫-—Ä–∞–±–æ—Ç–∞–µ—Ç-–º–µ—Ç–æ–¥-dict-–≤-pydantic-–∏-–∫–∞–∫–∏–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-–æ–Ω-–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)

### #FastAPI:
19. [–ß—Ç–æ —Ç–∞–∫–æ–µ FastAPI –∏ –¥–ª—è –∫–∞–∫–∏—Ö –∑–∞–¥–∞—á –æ–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω?](#19-—á—Ç–æ-—Ç–∞–∫–æ–µ-fastapi-–∏-–¥–ª—è-–∫–∞–∫–∏—Ö-–∑–∞–¥–∞—á-–æ–Ω-–ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω)
20. [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Depends –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –º–∞—Ä—à—Ä—É—Ç—ã FastAPI?](#20-–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-depends-–¥–ª—è-–≤–Ω–µ–¥—Ä–µ–Ω–∏—è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-–≤-–º–∞—Ä—à—Ä—É—Ç—ã-fastapi)
21. [–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ FastAPI?](#21-—á–µ–º-–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è-–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å-–≤-fastapi)
22. [–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BackgroundTasks –≤ FastAPI?](#22-–∫–∞–∫-—Å–æ–∑–¥–∞—Ç—å-–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-backgroundtasks-–≤-fastapi)
23. [–ß—Ç–æ —Ç–∞–∫–æ–µ middleware –≤ FastAPI –∏ –∫–∞–∫ –µ–≥–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?](#23-—á—Ç–æ-—Ç–∞–∫–æ–µ-middleware-–≤-fastapi-–∏-–∫–∞–∫-–µ–≥–æ-–º–æ–∂–Ω–æ-–¥–æ–±–∞–≤–∏—Ç—å-–≤-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
24. [–ö–∞–∫ middleware –≤ FastAPI –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤?](#24-–∫–∞–∫-middleware-–≤-fastapi-–º–æ–∂–µ—Ç-–≤–ª–∏—è—Ç—å-–Ω–∞-–æ–±—Ä–∞–±–æ—Ç–∫—É-–∑–∞–ø—Ä–æ—Å–æ–≤-–∏-–æ—Ç–≤–µ—Ç–æ–≤)
25. [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ FastAPI?](#25-–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-pydantic-–º–æ–¥–µ–ª–∏-–¥–ª—è-–≤–∞–ª–∏–¥–∞—Ü–∏–∏-–∑–∞–ø—Ä–æ—Å–æ–≤-–∏-–æ—Ç–≤–µ—Ç–æ–≤-–≤-fastapi)
26. [–ö–∞–∫ –≤ FastAPI —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –∫–∞–∫ –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –ø—É—Ç–∏?](#26-–∫–∞–∫-–≤-fastapi-—Ä–∞–±–æ—Ç–∞–µ—Ç-—Å–∏—Å—Ç–µ–º–∞-–º–∞—Ä—à—Ä—É—Ç–æ–≤-–∏-–∫–∞–∫-–º–æ–∂–Ω–æ-–∑–∞–¥–∞–≤–∞—Ç—å-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-–≤-–ø—É—Ç–∏)
27. [–ö–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏ –≤ FastAPI (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ state)?](#27-–∫–∞–∫-—É–ø—Ä–∞–≤–ª—è—Ç—å-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º-—Å–µ—Å—Å–∏–∏-–≤-fastapi-–Ω–∞–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-state)
28. [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @app.exception_handler –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π?](#28-–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä-appexception_handler-–¥–ª—è-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
29. [–ß—Ç–æ —Ç–∞–∫–æ–µ lifespan —Å–æ–±—ã—Ç–∏—è –≤ FastAPI –∏ –∫–∞–∫ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?](#29-—á—Ç–æ-—Ç–∞–∫–æ–µ-lifespan-—Å–æ–±—ã—Ç–∏—è-–≤-fastapi-–∏-–∫–∞–∫-–∏—Ö-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
30. [–í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É lifespan –∏ —Å–æ–±—ã—Ç–∏—è–º–∏ startup –∏ shutdown?](#30-–≤-—á–µ–º-—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-lifespan-–∏-—Å–æ–±—ã—Ç–∏—è–º–∏-startup-–∏-shutdown)
31. [–ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏ –∏—Ö –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –≤ —Ä–∞–º–∫–∞—Ö lifespan –≤ FastAPI?](#31-–∫–∞–∫-–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å-—Ä–µ—Å—É—Ä—Å—ã-–∏-–∏—Ö-–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ-–≤-—Ä–∞–º–∫–∞—Ö-lifespan-–≤-fastapi)

### 1) –ß—Ç–æ —Ç–∞–∫–æ–µ Pydantic –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

#### –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä—è–≤–ª—è—Ç—å –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤ Python, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —ç—Ç–∏–º –º–æ–¥–µ–ª—è–º –∏ –∏—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

* –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö:
Pydantic –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã-–º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ API. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–ª—è–º–∏ id, name, email –∏ —É–∫–∞–∑–∞—Ç—å —Ç–∏–ø—ã —ç—Ç–∏—Ö –ø–æ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, id - —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, name - —Å—Ç—Ä–æ–∫–∞, email - —Å—Ç—Ä–æ–∫–∞). 

* –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:
–ö–æ–≥–¥–∞ FastAPI –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ, Pydantic –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ª–∏ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–º –º–æ–¥–µ–ª—è–º. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç, Pydantic –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É, —É–∫–∞–∑—ã–≤–∞—é—â—É—é –Ω–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ. 

* –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:
Pydantic —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –≤ –¥—Ä—É–≥–æ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤ –æ—Ç–≤–µ—Ç–µ API —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, Pydantic –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –º–æ–¥–µ–ª–µ–π –≤ JSON. 

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

* –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –≤ –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö (FastAPI, Starlette).

* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ .env).

* –†–∞–±–æ—Ç–∞ —Å ORM (–Ω–∞–ø—Ä–∏–º–µ—Ä, SQLAlchemy).

### 2) –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Pydantic?
```sh
from pydantic import BaseModel

class User(BaseModel):
    id: int
    name: str
    email: str | None = None  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ
```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```sh
user = User(id=1, name="Alice")
print(user.model_dump())  # {'id': 1, 'name': 'Alice', 'email': None}
```
### 3) –ö–∞–∫ Pydantic –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö?
Pydantic –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø—ã –ø–æ–ª–µ–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –º–æ–¥–µ–ª–∏:

* –ï—Å–ª–∏ —Ç–∏–ø –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–≤–µ—Å—Ç–∏ –µ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "123" ‚Üí 123).

* –ï—Å–ª–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –≤—ã–∑—ã–≤–∞–µ—Ç ValidationError.

–ü—Ä–∏–º–µ—Ä:

```sh
from pydantic import ValidationError

try:
    User(id="not_an_int", name="Alice")
except ValidationError as e:
    print(e.errors())
```
### 4) –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è BaseModel –æ—Ç dataclass –≤ Pydantic?
#### BaseModel

* –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö.	

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ alias, json_schema.

* –ú–µ—Ç–æ–¥—ã model_dump(), dict(), model_validate().

#### dataclass

* –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤).

* –¢–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ dataclass-—Ñ—É–Ω–∫—Ü–∏–∏.

* –¢–æ–ª—å–∫–æ dataclasses.asdict().
 
–ü—Ä–∏–º–µ—Ä dataclass:

```sh
from pydantic.dataclasses import dataclass

@dataclass
class User:
    id: int
    name: str
```
### 5) –ö–∞–∫ –∑–∞–¥–∞—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª–µ–π –≤ Pydantic –º–æ–¥–µ–ª–∏?
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ Python (str, int, List, –∏ —Ç. –¥.):

```sh
from typing import List, Optional

class Product(BaseModel):
    id: int
    tags: List[str] = []
    price: Optional[float] = None
```
### 6) –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø constr –≤ Pydantic –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫–∏?
constr (–æ—Ç constrained string) –∑–∞–¥–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ min_length –∏ max_length:

```sh
from pydantic import BaseModel, constr

class Post(BaseModel):
    title: constr(min_length=1, max_length=100)
```
### 7) –ö–∞–∫ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–ª–µ–π –º–æ–¥–µ–ª–∏ Pydantic?
* –ß–µ—Ä–µ–∑ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –∫–ª–∞—Å—Å–∞:

```sh
class User(BaseModel):
    id: int
    role: str = "user"  # –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

* –í Pydantic –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–ª–µ–π –º–æ–¥–µ–ª–∏ –∑–∞–¥–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ default –≤ —Ñ—É–Ω–∫—Ü–∏–∏ Field –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é default_factory –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
```sh
from pydantic import BaseModel, Field
import uuid

class Item(BaseModel):
    id: uuid.UUID = Field(default_factory=uuid.uuid4)
    name: str = "Item"
    price: float = 0.0
```
### 8) –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è –º–æ–¥–µ–ª–∏ –≤ Pydantic?
–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –ø–æ–ª—è –º–æ–¥–µ–ª–∏ –≤ Pydantic –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @field_validator, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è—é—â–µ–π –≤–∞–ª–∏–¥–∞—Ü–∏—é. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –≤–æ–∑–±—É–∂–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ ValueError –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏. 

```sh
from pydantic import BaseModel, field_validator, ValidationError

class Item(BaseModel):
    price: float
    quantity: int

    @field_validator('price')
    def price_must_be_positive(cls, value):
        if value <= 0:
            raise ValueError('–¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π')
        return value

    @field_validator('quantity')
    def quantity_must_be_positive(cls, value):
        if value <= 0:
            raise ValueError('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º')
        return value

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
try:
    item = Item(price=10.5, quantity=5)
    print(item)

    item = Item(price=-5.0, quantity=2)
    print(item) # –≠—Ç–æ—Ç –∫–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, —Ç.–∫. –≤—ã—à–µ –±—É–¥–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
except ValidationError as e:
    print(e)
```
### 9) –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É @validator, @root_validator, @before, @after, @wrap, –∏ @plain –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞–º–∏?
@validator ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ.

@root_validator ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–π –º–æ–¥–µ–ª—å—é (–≤—Å–µ –ø–æ–ª—è —Å—Ä–∞–∑—É).

#### pydantic.functional_validators:

* Before –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∞–Ω–∞–ª–∏–∑–æ–º –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π Pydantic (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ str –∫ int ). –û–Ω–∏ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–µ, —á–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã After , –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ –∏–º —Ç–∞–∫–∂–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏–º–µ—Ç—å –¥–µ–ª–æ —Å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±—ã–º –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º.

* After –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∞–Ω–∞–ª–∏–∑ Pydantic. –û–Ω–∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –±–æ–ª–µ–µ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –∏—Ö –ª–µ–≥—á–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å.

* Wrap —è–≤–ª—è—é—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ –≥–∏–±–∫–∏–º–∏ –∏–∑ –≤—Å–µ—Ö. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–¥ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ Pydantic –∏ –¥—Ä—É–≥–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã —Å–¥–µ–ª–∞—é—Ç —Å–≤–æ–µ –¥–µ–ª–æ, –∏–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, –∫–∞–∫ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏, —Ç–∞–∫ –∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ.

* Plain –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –ø–æ—Ö–æ–∂–∏ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä mode='before' –Ω–æ –æ–Ω–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–µ–∫—Ä–∞—â–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫—É, –¥–∞–ª—å–Ω–µ–π—à–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è, –∏ Pydantic –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∏–∫–∞–∫–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.


### 10) –ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @before –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∏ –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –æ–Ω —Ä–µ—à–∞–µ—Ç?
BeforeValidator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–ª—è. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∏–ª–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫–æ–π.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```sh
from pydantic import BaseModel, functional_validators as fv

def normalize_phone(phone: str) -> str:
    return phone.replace("-", "").replace(" ", "")

class Contact(BaseModel):
    phone: str = fv.BeforeValidator(normalize_phone)
```
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ normalize_phone —É–¥–∞–ª—è–µ—Ç –¥–µ—Ñ–∏—Å—ã –∏ –ø—Ä–æ–±–µ–ª—ã –∏–∑ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. BeforeValidator –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –ø–æ–ª—é phone, —á—Ç–æ–±—ã –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫–æ–π.

### 11) –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @after –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∏ –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –æ–Ω –ø—Ä–∏–º–µ–Ω–∏–º?
AfterValidator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª—è. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—Å–ª–µ –µ–≥–æ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

```sh
from pydantic import BaseModel, functional_validators as fv

def validate_length(value: str) -> str:
    if len(value) < 5:
        raise ValueError("Value must be at least 5 characters long")
    return value

class Message(BaseModel):
    content: str = fv.AfterValidator(validate_length)
```
–ó–¥–µ—Å—å validate_length –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –¥–ª–∏–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è content –Ω–µ –º–µ–Ω–µ–µ 5 —Å–∏–º–≤–æ–ª–æ–≤. AfterValidator –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –ø–æ–ª—é content, —á—Ç–æ–±—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–ª–∏–Ω—É –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—Å–ª–µ –µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

### 12) –ß—Ç–æ —Ç–∞–∫–æ–µ @wrap –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∏ –∫–∞–∫ –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–µ—Ä–Ω—É—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤–∞–ª–∏–¥–∞—Ü–∏–∏?
WrapValidator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–æ–∫—Ä—É–≥ –ø–æ–ª—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ–ª–µ–π.

```sh
from pydantic import BaseModel, functional_validators as fv

def validate_age(age: int) -> int:
    if age < 0:
        raise ValueError("Age cannot be negative")
    return age

class Person(BaseModel):
    name: str
    age: int = fv.WrapValidator(validate_age)
```
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ validate_age ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤–æ–∑—Ä–∞—Å—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º. WrapValidator –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –ø–æ–ª—é age, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞—Ç—å validate_age –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è.
### 13) –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç @plain –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤?
PlainValidator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫ –∑–Ω–∞—á–µ–Ω–∏—é –ø–æ–ª—è –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

```sh
from pydantic import BaseModel, functional_validators as fv

def validate_email(email: str) -> str:
    if "@" not in email:
        raise ValueError("Email must contain '@'")
    return email

class User(BaseModel):
    email: str = fv.PlainValidator(validate_email)
```
–ó–¥–µ—Å—å validate_email –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∏–º–≤–æ–ª @. PlainValidator –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –ø–æ–ª—é email, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞—Ç—å validate_email.

### 14) –ö–∞–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≤ Pydantic?
–ü—Ä–æ—Å—Ç–æ –≤–ª–æ–∂–∏—Ç–µ –æ–¥–Ω—É –º–æ–¥–µ–ª—å –≤ –¥—Ä—É–≥—É—é:

```sh
class Address(BaseModel):
    city: str

    class User(BaseModel):
        address: Address
```
### 15) –ö–∞–∫ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –∏—Å–∫–ª—é—á–∞—Ç—å –ø–æ–ª—è –∏–∑ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Pydantic –º–æ–¥–µ–ª–∏?
–ß–µ—Ä–µ–∑ exclude –≤ model_dump():

```sh
user.model_dump(exclude={"email"})  # –ò—Å–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–µ `email`
```
–ò–ª–∏ –≤ Config:

```sh
class User(BaseModel):
    class Config:
        exclude = {"email"}
```
### 16) –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∞–ª–∏–∞—Å—ã –ø–æ–ª–µ–π (Field(..., alias='other_name')) –≤ Pydantic?
–ü–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–µ –∏–º—è –¥–ª—è –ø–æ–ª—è –≤ JSON:

```sh
from pydantic import Field

class User(BaseModel):
    name: str = Field(..., alias="username")

user = User.parse_raw('{"username": "Alice"}')  # OK
```
### 17) –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Config –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –≤ Pydantic?
Config –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏:

```sh
class User(BaseModel):
    class Config:
        allow_population_by_field_name = True  # –†–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ alias
        extra = "forbid"  # –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–æ–ª—è
```
* allow_mutation: –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ False, –¥–µ–ª–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é True.

* extra: –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –º–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≤ –º–æ–¥–µ–ª–∏) –ø–æ–ª—è –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏. –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

Extra.forbid: –∑–∞–ø—Ä–µ—â–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

Extra.ignore: –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è.

Extra.allow: –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è.

* validate_assignment: –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ True, –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç–∞–º –º–æ–¥–µ–ª–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é False.

* orm_mode: –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ True, –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ Pydantic —Å ORM (Object-Relational Mapping) –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ SQLAlchemy. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é False.

* populate_by_name: –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ True, –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π –º–æ–¥–µ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—è –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π, –∞ –Ω–µ –∞—Ç—Ä–∏–±—É—Ç—ã. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é False.

* arbitrary_types_allowed: –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ True, –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ–¥–∫–ª–∞—Å—Å–∞–º–∏ BaseModel –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö Python. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é False.

* json_encoders: —Å–ª–æ–≤–∞—Ä—å, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ JSON.

* frozen: –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ True, –¥–µ–ª–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è. –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ allow_mutation=False.

### 18) –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ç–æ–¥ dict() –≤ Pydantic –∏ –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç?
–ú–µ—Ç–æ–¥ dict() –≤ Pydantic –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–∏ –≤ –æ–±—ã—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å Python. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ Pydantic –∏–ª–∏ –ø—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

exclude (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø–æ–ª—è –∏–∑ —Å–ª–æ–≤–∞—Ä—è. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ª–∏–±–æ –Ω–∞–±–æ—Ä –∏–º—ë–Ω –ø–æ–ª–µ–π (–≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫), –ª–∏–±–æ —Å–ª–æ–≤–∞—Ä—å, –≥–¥–µ –∫–ª—é—á–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π, –∞ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ ‚Äî –±—É–ª–µ–≤—ã –∑–Ω–∞—á–µ–Ω–∏—è (–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ True, –ø–æ–ª–µ –±—É–¥–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–æ).

include (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø–æ–ª—è –≤ —Å–ª–æ–≤–∞—Ä—å. –†–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—É exclude, –Ω–æ, –Ω–∞–æ–±–æ—Ä–æ—Ç, –≤–∫–ª—é—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è.

by_alias (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –±—É–ª–µ–≤ —Ç–∏–ø): –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ True, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã –ø–æ–ª–µ–π (aliases) –≤–º–µ—Å—Ç–æ –∏—Ö –∏–º—ë–Ω –ø—Ä–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –≤ —Å–ª–æ–≤–∞—Ä—å.

skip_defaults (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –±—É–ª–µ–≤ —Ç–∏–ø): –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ True, –∏—Å–∫–ª—é—á–∞–µ—Ç –ø–æ–ª—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ —Å–ª–æ–≤–∞—Ä—è.

skip_none (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –±—É–ª–µ–≤ —Ç–∏–ø): –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ True, –∏—Å–∫–ª—é—á–∞–µ—Ç –ø–æ–ª—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º None –∏–∑ —Å–ª–æ–≤–∞—Ä—è.

```sh
from pydantic import BaseModel

class User(BaseModel):
    id: int
    name: str
    email: str
    age: int = 30  # –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

user = User(id=1, name="John Doe", email="john.doe@example.com")

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –≤ —Å–ª–æ–≤–∞—Ä—å –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
user_dict = user.dict()
print(user_dict)  # {'id': 1, 'name': 'John Doe', 'email': 'john.doe@example.com', 'age': 30}

user_dict_exclude = user.dict(exclude={'age': True})
print(user_dict_exclude)
```

### 19) –ß—Ç–æ —Ç–∞–∫–æ–µ FastAPI –∏ –¥–ª—è –∫–∞–∫–∏—Ö –∑–∞–¥–∞—á –æ–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω?
FastAPI ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π (–≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π) –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API –Ω–∞ Python, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ Starlette –∏ Pydantic.

–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:

–°–æ–∑–¥–∞–Ω–∏–µ RESTful API –∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è OpenAPI/Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö (async/await) –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Pydantic –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

–†–∞–±–æ—Ç–∞ —Å WebSockets, GraphQL, JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π.

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–±–ª–∏–∑–∫–∞—è –∫ Node.js –∏ Go).

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Pydantic.

–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger UI –∏ ReDoc).

### 20) –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Depends –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –º–∞—Ä—à—Ä—É—Ç—ã FastAPI?
Depends –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–µ–¥—Ä—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–∏—Å—ã, –ë–î-—Å–µ—Å—Å–∏–∏) –≤ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.

–ü—Ä–∏–º–µ—Ä:

```sh
from fastapi import FastAPI, Depends

app = FastAPI()

def get_db():
    db = "db_connection"
    try:
        yield db
    finally:
        print("Close DB connection")

@app.get("/items/")
async def read_items(db: str = Depends(get_db)):
    return {"db": db}
```
get_db ‚Äî —ç—Ç–æ dependency, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î.

Depends(get_db) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç get_db –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ read_items.

### 21) –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ FastAPI?
* –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (def)

–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á.
  
–ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ (–µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –µ—Å—Ç—å I/O-–æ–ø–µ—Ä–∞—Ü–∏–∏).

–ú–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª—è—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–ø—Ä–æ—Å–æ–≤.

* –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (async def)
  
–ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç await).

–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è I/O-–æ–ø–µ—Ä–∞—Ü–∏–π (–∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î, API).

–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç—ã—Å—è—á–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

–ü—Ä–∏–º–µ—Ä –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```sh
async def get_async_data():
    data = await fetch_from_db()  # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤
    return data

@app.get("/data")
async def read_data(data: str = Depends(get_async_data)):
    return {"data": data}
```
### 22) –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BackgroundTasks –≤ FastAPI?
BackgroundTasks –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–∫–∞ email).

–ü—Ä–∏–º–µ—Ä:

```sh
from fastapi import BackgroundTasks

def send_email(email: str):
    print(f"Sending email to {email}")

@app.post("/send-email/")
async def send_email_background(background_tasks: BackgroundTasks, email: str):
    background_tasks.add_task(send_email, email)
    return {"message": "Email will be sent in the background"}
```
### 23) –ß—Ç–æ —Ç–∞–∫–æ–µ middleware –≤ FastAPI –∏ –∫–∞–∫ –µ–≥–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?
Middleware ‚Äî —ç—Ç–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ª–æ–π, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –¥–æ/–ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞.

–ü—Ä–∏–º–µ—Ä middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```sh
from fastapi import Request

@app.middleware("http")
async def log_requests(request: Request, call_next):
    print(f"Request: {request.method} {request.url}")
    response = await call_next(request)
    print(f"Response: {response.status_code}")
    return response
call_next –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –¥–∞–ª—å—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ middleware –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º.
```

–í FastAPI –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ middleware, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∞ –¥—Ä—É–≥–∏–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ FastAPI –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ middleware:

* CorrelationIdMiddleware (–µ—Å–ª–∏ —è–≤–Ω–æ –Ω–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ) ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ—Ç–≤–µ—Ç–∞, —á—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ª–æ–≥–∞—Ö.
* TrustedHostMiddleware ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ö–æ—Å—Ç, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ—Å—Ç—É–ø–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π, –∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å –Ω–µ–¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤.
* HTTPSRedirectMiddleware ‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ HTTPS, –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ —Ä–∞–±–æ—Ç—É —Å HTTPS.
* ExceptionHandlerMiddleware ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã –æ–± –æ—à–∏–±–∫–∞—Ö.
* CORS middleware (Cross-Origin Resource Sharing) ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ä–µ—Å—É—Ä—Å–∞–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –∑–∞–ø—Ä–æ—Å—ã —Å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤.
* BodyMiddleware ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞, –ø—Ä–µ–æ–±—Ä–∞–∑—É—è –µ–≥–æ –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, JSON).
* –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ middleware –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ç. –¥. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç BaseHTTPMiddleware, –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤.
* –ó–∞—Ç–µ–º —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ FastAPI —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ add_middleware.


### 24) –ö–∞–∫ middleware –≤ FastAPI –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤?
Middleware –º–æ–∂–µ—Ç:

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å/–æ—Ç–≤–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–ª—è—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏).

–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.

–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å 404).

–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (JWT, API-–∫–ª—é—á–∏).

–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è CORS:

```sh
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_methods=["GET", "POST"],
)
```
### 25) –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ FastAPI?
FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Pydantic.

–ü—Ä–∏–º–µ—Ä:

```sh
from pydantic import BaseModel

class Item(BaseModel):
    name: str
    price: float

@app.post("/items/")
async def create_item(item: Item):  # –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞
    return {"item": item}  # –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
```
–ï—Å–ª–∏ name –Ω–µ –ø–µ—Ä–µ–¥–∞—Ç—å, FastAPI –≤–µ—Ä–Ω–µ—Ç 422 Unprocessable Entity.

### 26) –ö–∞–∫ –≤ FastAPI —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –∫–∞–∫ –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –ø—É—Ç–∏?
–ú–∞—Ä—à—Ä—É—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã (@app.get, @app.post).

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏ (path parameters):

```sh
@app.get("/items/{item_id}")
async def read_item(item_id: int):  # item_id –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ int
    return {"item_id": item_id}
```
–ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å item_id=abc, FastAPI –≤–µ—Ä–Ω–µ—Ç 422 (–æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏).

Query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```sh
@app.get("/items/")
async def read_items(skip: int = 0, limit: int = 10):
    return {"skip": skip, "limit": limit}
```
–í—ã–∑–æ–≤: /items/?skip=5&limit=20.

### 27) –ö–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏ –≤ FastAPI (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ state)?
–í FastAPI —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ state –≤ –æ–±—ä–µ–∫—Ç–µ –∑–∞–ø—Ä–æ—Å–∞ (Request). FastAPI –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –≤ –æ–±—ä–µ–∫—Ç–µ –∑–∞–ø—Ä–æ—Å–∞, —á—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º –ü–û –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤. 
–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –î–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É state:
–û–±—ä–µ–∫—Ç state –¥–æ—Å—Ç—É–ø–µ–Ω –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ request.state. –û–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–ª–æ–≤–∞—Ä—å, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ.
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è state:
state –æ–±—ã—á–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–º –ü–û (middleware) –∏–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–º –ü–û –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è state.
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ state:
–í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º –≤ state, –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ü–µ–ª–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, —Å–µ—Å—Å–∏–∏ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –¥–∞–Ω–Ω—ã—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∑–∞–ø—Ä–æ—Å–æ–º. 

–ü—Ä–∏–º–µ—Ä:

```sh
from fastapi import FastAPI, Request

app = FastAPI()

@app.middleware("http")
async def add_process_time_header(request: Request, call_next):
    """
    –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –ü–û –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ state.
    """
    request.state.user_id = 123  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è user_id –≤ state
    response = await call_next(request)
    return response

@app.get("/")
async def read_root(request: Request):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è user_id –∏–∑ state.
    """
    user_id = request.state.user_id
    return {"user_id": user_id}
```
### 28) –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @app.exception_handler –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π?
–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã.

–ü—Ä–∏–º–µ—Ä:

```sh
from fastapi import HTTPException, Request
from fastapi.responses import JSONResponse

@app.exception_handler(HTTPException)
async def custom_http_exception(request: Request, exc: HTTPException):
    return JSONResponse(
        status_code=exc.status_code,
        content={"error": exc.detail},
    )
```
### 29) –ß—Ç–æ —Ç–∞–∫–æ–µ lifespan —Å–æ–±—ã—Ç–∏—è –≤ FastAPI –∏ –∫–∞–∫ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
lifespan –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î).

–ü—Ä–∏–º–µ—Ä:

```sh
from contextlib import asynccontextmanager
from fastapi import FastAPI

@asynccontextmanager
async def lifespan(app: FastAPI):
    # –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    print("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç...")
    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–∏–º–µ—Ä)
    # db_connection = await connect_to_db()
    yield
    # –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    print("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É...")
    # –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–∏–º–µ—Ä)
    # await db_connection.close()

app = FastAPI(lifespan=lifespan)

@app.get("/")
async def read_root():
    return {"message": "Hello World"}
```
### 30) –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É lifespan –∏ —Å–æ–±—ã—Ç–∏—è–º–∏ startup –∏ shutdown?
* lifespan	
–ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π (–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä).

–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

* startup/shutdown

–ü—Ä–æ—Å—Ç–æ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä.

–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º.


–ü—Ä–∏–º–µ—Ä startup/shutdown:

```sh
@app.on_event("startup")
async def startup():
    print("App started")

@app.on_event("shutdown")
async def shutdown():
    print("App stopped")
```
### 31) –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏ –∏—Ö –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –≤ —Ä–∞–º–∫–∞—Ö lifespan –≤ FastAPI?
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ try/finally –∏–ª–∏ contextlib:

```sh
@asynccontextmanager
async def lifespan(app: FastAPI):
    db = await connect_to_db()
    try:
        yield {"db": db}
    finally:
        await db.close()
```
yield –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

finally –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.

–ò—Ç–æ–≥
FastAPI ‚Äî –º–æ—â–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API —Å:

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (Pydantic).

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π (async/await).

–ì–∏–±–∫–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Depends).

–£–¥–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π (Swagger/ReDoc).
